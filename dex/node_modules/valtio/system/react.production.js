System.register(["react","proxy-compare","use-sync-external-store/shim","valtio/vanilla"],function(v){"use strict";var s,a,o,i,f,p,l,h,y,c;return{setters:[function(e){s=e.useRef,a=e.useCallback,o=e.useEffect,i=e.useMemo,f=e.default},function(e){p=e.isChanged,l=e.createProxy},function(e){h=e.default},function(e){y=e.subscribe,c=e.snapshot}],execute:function(){v("useSnapshot",g);const{use:e}=f,{useSyncExternalStore:C}=h;function g(n,b){const x=b==null?void 0:b.sync,r=s(),u=s();let M=!0;const S=C(a(t=>{const E=y(n,t,x);return t(),E},[n,x]),()=>{const t=c(n,e);try{if(!M&&r.current&&u.current&&!p(r.current,t,u.current,new WeakMap))return r.current}catch{}return t},()=>c(n,e));M=!1;const k=new WeakMap;o(()=>{r.current=S,u.current=k});const w=i(()=>new WeakMap,[]);return l(S,k,w)}}}});
