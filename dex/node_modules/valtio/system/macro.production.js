System.register(["@babel/helper-module-imports","@babel/types","babel-plugin-macros"],function(h){"use strict";var i,n,l,c;return{setters:[function(e){i=e.addNamed},function(e){n=e},function(e){l=e.createMacro,c=e.MacroError}],execute:function(){var y=h("default",l(({references:g})=>{var s;(s=g.useProxy)==null||s.forEach(a=>{var u,d,m,f,v,p;const x=i(a,"useSnapshot","valtio"),t=(d=(u=a.parentPath)==null?void 0:u.get("arguments.0"))==null?void 0:d.node;if(!n.isIdentifier(t))throw new c("no proxy object");const b=n.identifier(`valtio_macro_snap_${t.name}`);(f=(m=a.parentPath)==null?void 0:m.parentPath)==null||f.replaceWith(n.variableDeclaration("const",[n.variableDeclarator(b,n.callExpression(x,[t]))]));let r=0;(p=(v=a.parentPath)==null?void 0:v.getFunctionParent())==null||p.traverse({Identifier(o){r===0&&o.node!==t&&o.node.name===t.name&&(o.node.name=b.name)},Function:{enter(){++r},exit(){--r}}})})},{configName:"valtio"}))}}});
