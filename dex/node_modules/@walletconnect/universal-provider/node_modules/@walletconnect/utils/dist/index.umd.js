(function(v,Ae){typeof exports=="object"&&typeof module<"u"?Ae(exports):typeof define=="function"&&define.amd?define(["exports"],Ae):(v=typeof globalThis<"u"?globalThis:v||self,Ae(v["@walletconnect/utils"]={}))})(this,function(v){"use strict";const Ae=":";function Qt(e){const[t,r]=e.split(Ae);return{namespace:t,reference:r}}function Zt(e){const{namespace:t,reference:r}=e;return[t,r].join(Ae)}function lt(e){const[t,r,i]=e.split(Ae);return{namespace:t,reference:r,address:i}}function er(e){const{namespace:t,reference:r,address:i}=e;return[t,r,i].join(Ae)}function dt(e,t){const r=[];return e.forEach(i=>{const a=t(i);r.includes(a)||r.push(a)}),r}function tr(e){const{address:t}=lt(e);return t}function rr(e){const{namespace:t,reference:r}=lt(e);return Zt({namespace:t,reference:r})}function $n(e,t){const{namespace:r,reference:i}=Qt(t);return er({namespace:r,reference:i,address:e})}function Vn(e){return dt(e,tr)}function nr(e){return dt(e,rr)}function Hn(e,t=[]){const r=[];return Object.keys(e).forEach(i=>{if(t.length&&!t.includes(i))return;const a=e[i];r.push(...a.accounts)}),r}function Kn(e,t=[]){const r=[];return Object.keys(e).forEach(i=>{if(t.length&&!t.includes(i))return;const a=e[i];r.push(...nr(a.accounts))}),r}function xn(e,t=[]){const r=[];return Object.keys(e).forEach(i=>{if(t.length&&!t.includes(i))return;const a=e[i];r.push(...a.chains)}),r}function ir(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var a=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:function(){return e[i]}})}),r}var _t={},Xe={},M={},ar={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(s,l){var E=s>>>16&65535,b=s&65535,w=l>>>16&65535,g=l&65535;return b*g+(E*g+b*w<<16>>>0)|0}e.mul=Math.imul||t;function r(s,l){return s+l|0}e.add=r;function i(s,l){return s-l|0}e.sub=i;function a(s,l){return s<<l|s>>>32-l}e.rotl=a;function u(s,l){return s<<32-l|s>>>l}e.rotr=u;function _(s){return typeof s=="number"&&isFinite(s)&&Math.floor(s)===s}e.isInteger=Number.isInteger||_,e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(s){return e.isInteger(s)&&s>=-e.MAX_SAFE_INTEGER&&s<=e.MAX_SAFE_INTEGER}})(ar),Object.defineProperty(M,"__esModule",{value:!0});var or=ar;function Wn(e,t){return t===void 0&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16}M.readInt16BE=Wn;function qn(e,t){return t===void 0&&(t=0),(e[t+0]<<8|e[t+1])>>>0}M.readUint16BE=qn;function zn(e,t){return t===void 0&&(t=0),(e[t+1]<<8|e[t])<<16>>16}M.readInt16LE=zn;function Yn(e,t){return t===void 0&&(t=0),(e[t+1]<<8|e[t])>>>0}M.readUint16LE=Yn;function sr(e,t,r){return t===void 0&&(t=new Uint8Array(2)),r===void 0&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}M.writeUint16BE=sr,M.writeInt16BE=sr;function ur(e,t,r){return t===void 0&&(t=new Uint8Array(2)),r===void 0&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}M.writeUint16LE=ur,M.writeInt16LE=ur;function Dt(e,t){return t===void 0&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}M.readInt32BE=Dt;function Et(e,t){return t===void 0&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}M.readUint32BE=Et;function bt(e,t){return t===void 0&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}M.readInt32LE=bt;function vt(e,t){return t===void 0&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}M.readUint32LE=vt;function ke(e,t,r){return t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}M.writeUint32BE=ke,M.writeInt32BE=ke;function Je(e,t,r){return t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}M.writeUint32LE=Je,M.writeInt32LE=Je;function Gn(e,t){t===void 0&&(t=0);var r=Dt(e,t),i=Dt(e,t+4);return r*4294967296+i-(i>>31)*4294967296}M.readInt64BE=Gn;function Xn(e,t){t===void 0&&(t=0);var r=Et(e,t),i=Et(e,t+4);return r*4294967296+i}M.readUint64BE=Xn;function kn(e,t){t===void 0&&(t=0);var r=bt(e,t),i=bt(e,t+4);return i*4294967296+r-(r>>31)*4294967296}M.readInt64LE=kn;function Jn(e,t){t===void 0&&(t=0);var r=vt(e,t),i=vt(e,t+4);return i*4294967296+r}M.readUint64LE=Jn;function cr(e,t,r){return t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0),ke(e/4294967296>>>0,t,r),ke(e>>>0,t,r+4),t}M.writeUint64BE=cr,M.writeInt64BE=cr;function fr(e,t,r){return t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0),Je(e>>>0,t,r),Je(e/4294967296>>>0,t,r+4),t}M.writeUint64LE=fr,M.writeInt64LE=fr;function Qn(e,t,r){if(r===void 0&&(r=0),e%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var i=0,a=1,u=e/8+r-1;u>=r;u--)i+=t[u]*a,a*=256;return i}M.readUintBE=Qn;function Zn(e,t,r){if(r===void 0&&(r=0),e%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var i=0,a=1,u=r;u<r+e/8;u++)i+=t[u]*a,a*=256;return i}M.readUintLE=Zn;function ei(e,t,r,i){if(r===void 0&&(r=new Uint8Array(e/8)),i===void 0&&(i=0),e%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!or.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var a=1,u=e/8+i-1;u>=i;u--)r[u]=t/a&255,a*=256;return r}M.writeUintBE=ei;function ti(e,t,r,i){if(r===void 0&&(r=new Uint8Array(e/8)),i===void 0&&(i=0),e%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!or.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var a=1,u=i;u<i+e/8;u++)r[u]=t/a&255,a*=256;return r}M.writeUintLE=ti;function ri(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat32(t)}M.readFloat32BE=ri;function ni(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat32(t,!0)}M.readFloat32LE=ni;function ii(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat64(t)}M.readFloat64BE=ii;function ai(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat64(t,!0)}M.readFloat64LE=ai;function oi(e,t,r){t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0);var i=new DataView(t.buffer,t.byteOffset,t.byteLength);return i.setFloat32(r,e),t}M.writeFloat32BE=oi;function si(e,t,r){t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0);var i=new DataView(t.buffer,t.byteOffset,t.byteLength);return i.setFloat32(r,e,!0),t}M.writeFloat32LE=si;function ui(e,t,r){t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0);var i=new DataView(t.buffer,t.byteOffset,t.byteLength);return i.setFloat64(r,e),t}M.writeFloat64BE=ui;function ci(e,t,r){t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0);var i=new DataView(t.buffer,t.byteOffset,t.byteLength);return i.setFloat64(r,e,!0),t}M.writeFloat64LE=ci;var ge={};Object.defineProperty(ge,"__esModule",{value:!0});function fi(e){for(var t=0;t<e.length;t++)e[t]=0;return e}ge.wipe=fi,Object.defineProperty(Xe,"__esModule",{value:!0});var ee=M,yt=ge,hi=20;function li(e,t,r){for(var i=1634760805,a=857760878,u=2036477234,_=1797285236,s=r[3]<<24|r[2]<<16|r[1]<<8|r[0],l=r[7]<<24|r[6]<<16|r[5]<<8|r[4],E=r[11]<<24|r[10]<<16|r[9]<<8|r[8],b=r[15]<<24|r[14]<<16|r[13]<<8|r[12],w=r[19]<<24|r[18]<<16|r[17]<<8|r[16],g=r[23]<<24|r[22]<<16|r[21]<<8|r[20],y=r[27]<<24|r[26]<<16|r[25]<<8|r[24],m=r[31]<<24|r[30]<<16|r[29]<<8|r[28],O=t[3]<<24|t[2]<<16|t[1]<<8|t[0],p=t[7]<<24|t[6]<<16|t[5]<<8|t[4],U=t[11]<<24|t[10]<<16|t[9]<<8|t[8],d=t[15]<<24|t[14]<<16|t[13]<<8|t[12],D=i,c=a,h=u,f=_,n=s,o=l,S=E,A=b,T=w,P=g,j=y,L=m,R=O,F=p,N=U,I=d,G=0;G<hi;G+=2)D=D+n|0,R^=D,R=R>>>32-16|R<<16,T=T+R|0,n^=T,n=n>>>32-12|n<<12,c=c+o|0,F^=c,F=F>>>32-16|F<<16,P=P+F|0,o^=P,o=o>>>32-12|o<<12,h=h+S|0,N^=h,N=N>>>32-16|N<<16,j=j+N|0,S^=j,S=S>>>32-12|S<<12,f=f+A|0,I^=f,I=I>>>32-16|I<<16,L=L+I|0,A^=L,A=A>>>32-12|A<<12,h=h+S|0,N^=h,N=N>>>32-8|N<<8,j=j+N|0,S^=j,S=S>>>32-7|S<<7,f=f+A|0,I^=f,I=I>>>32-8|I<<8,L=L+I|0,A^=L,A=A>>>32-7|A<<7,c=c+o|0,F^=c,F=F>>>32-8|F<<8,P=P+F|0,o^=P,o=o>>>32-7|o<<7,D=D+n|0,R^=D,R=R>>>32-8|R<<8,T=T+R|0,n^=T,n=n>>>32-7|n<<7,D=D+o|0,I^=D,I=I>>>32-16|I<<16,j=j+I|0,o^=j,o=o>>>32-12|o<<12,c=c+S|0,R^=c,R=R>>>32-16|R<<16,L=L+R|0,S^=L,S=S>>>32-12|S<<12,h=h+A|0,F^=h,F=F>>>32-16|F<<16,T=T+F|0,A^=T,A=A>>>32-12|A<<12,f=f+n|0,N^=f,N=N>>>32-16|N<<16,P=P+N|0,n^=P,n=n>>>32-12|n<<12,h=h+A|0,F^=h,F=F>>>32-8|F<<8,T=T+F|0,A^=T,A=A>>>32-7|A<<7,f=f+n|0,N^=f,N=N>>>32-8|N<<8,P=P+N|0,n^=P,n=n>>>32-7|n<<7,c=c+S|0,R^=c,R=R>>>32-8|R<<8,L=L+R|0,S^=L,S=S>>>32-7|S<<7,D=D+o|0,I^=D,I=I>>>32-8|I<<8,j=j+I|0,o^=j,o=o>>>32-7|o<<7;ee.writeUint32LE(D+i|0,e,0),ee.writeUint32LE(c+a|0,e,4),ee.writeUint32LE(h+u|0,e,8),ee.writeUint32LE(f+_|0,e,12),ee.writeUint32LE(n+s|0,e,16),ee.writeUint32LE(o+l|0,e,20),ee.writeUint32LE(S+E|0,e,24),ee.writeUint32LE(A+b|0,e,28),ee.writeUint32LE(T+w|0,e,32),ee.writeUint32LE(P+g|0,e,36),ee.writeUint32LE(j+y|0,e,40),ee.writeUint32LE(L+m|0,e,44),ee.writeUint32LE(R+O|0,e,48),ee.writeUint32LE(F+p|0,e,52),ee.writeUint32LE(N+U|0,e,56),ee.writeUint32LE(I+d|0,e,60)}function hr(e,t,r,i,a){if(a===void 0&&(a=0),e.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(i.length<r.length)throw new Error("ChaCha: destination is shorter than source");var u,_;if(a===0){if(t.length!==8&&t.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");u=new Uint8Array(16),_=u.length-t.length,u.set(t,_)}else{if(t.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");u=t,_=a}for(var s=new Uint8Array(64),l=0;l<r.length;l+=64){li(s,u,e);for(var E=l;E<l+64&&E<r.length;E++)i[E]=r[E]^s[E-l];_i(u,0,_)}return yt.wipe(s),a===0&&yt.wipe(u),i}Xe.streamXOR=hr;function di(e,t,r,i){return i===void 0&&(i=0),yt.wipe(r),hr(e,t,r,r,i)}Xe.stream=di;function _i(e,t,r){for(var i=1;r--;)i=i+(e[t]&255)|0,e[t]=i&255,i>>>=8,t++;if(i>0)throw new Error("ChaCha: counter overflow")}var lr={},Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});function Di(e,t,r){return~(e-1)&t|e-1&r}Ce.select=Di;function Ei(e,t){return(e|0)-(t|0)-1>>>31&1}Ce.lessOrEqual=Ei;function dr(e,t){if(e.length!==t.length)return 0;for(var r=0,i=0;i<e.length;i++)r|=e[i]^t[i];return 1&r-1>>>8}Ce.compare=dr;function bi(e,t){return e.length===0||t.length===0?!1:dr(e,t)!==0}Ce.equal=bi,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Ce,r=ge;e.DIGEST_LENGTH=16;var i=function(){function _(s){this.digestLength=e.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var l=s[0]|s[1]<<8;this._r[0]=l&8191;var E=s[2]|s[3]<<8;this._r[1]=(l>>>13|E<<3)&8191;var b=s[4]|s[5]<<8;this._r[2]=(E>>>10|b<<6)&7939;var w=s[6]|s[7]<<8;this._r[3]=(b>>>7|w<<9)&8191;var g=s[8]|s[9]<<8;this._r[4]=(w>>>4|g<<12)&255,this._r[5]=g>>>1&8190;var y=s[10]|s[11]<<8;this._r[6]=(g>>>14|y<<2)&8191;var m=s[12]|s[13]<<8;this._r[7]=(y>>>11|m<<5)&8065;var O=s[14]|s[15]<<8;this._r[8]=(m>>>8|O<<8)&8191,this._r[9]=O>>>5&127,this._pad[0]=s[16]|s[17]<<8,this._pad[1]=s[18]|s[19]<<8,this._pad[2]=s[20]|s[21]<<8,this._pad[3]=s[22]|s[23]<<8,this._pad[4]=s[24]|s[25]<<8,this._pad[5]=s[26]|s[27]<<8,this._pad[6]=s[28]|s[29]<<8,this._pad[7]=s[30]|s[31]<<8}return _.prototype._blocks=function(s,l,E){for(var b=this._fin?0:2048,w=this._h[0],g=this._h[1],y=this._h[2],m=this._h[3],O=this._h[4],p=this._h[5],U=this._h[6],d=this._h[7],D=this._h[8],c=this._h[9],h=this._r[0],f=this._r[1],n=this._r[2],o=this._r[3],S=this._r[4],A=this._r[5],T=this._r[6],P=this._r[7],j=this._r[8],L=this._r[9];E>=16;){var R=s[l+0]|s[l+1]<<8;w+=R&8191;var F=s[l+2]|s[l+3]<<8;g+=(R>>>13|F<<3)&8191;var N=s[l+4]|s[l+5]<<8;y+=(F>>>10|N<<6)&8191;var I=s[l+6]|s[l+7]<<8;m+=(N>>>7|I<<9)&8191;var G=s[l+8]|s[l+9]<<8;O+=(I>>>4|G<<12)&8191,p+=G>>>1&8191;var Q=s[l+10]|s[l+11]<<8;U+=(G>>>14|Q<<2)&8191;var J=s[l+12]|s[l+13]<<8;d+=(Q>>>11|J<<5)&8191;var k=s[l+14]|s[l+15]<<8;D+=(J>>>8|k<<8)&8191,c+=k>>>5|b;var C=0,B=C;B+=w*h,B+=g*(5*L),B+=y*(5*j),B+=m*(5*P),B+=O*(5*T),C=B>>>13,B&=8191,B+=p*(5*A),B+=U*(5*S),B+=d*(5*o),B+=D*(5*n),B+=c*(5*f),C+=B>>>13,B&=8191;var $=C;$+=w*f,$+=g*h,$+=y*(5*L),$+=m*(5*j),$+=O*(5*P),C=$>>>13,$&=8191,$+=p*(5*T),$+=U*(5*A),$+=d*(5*S),$+=D*(5*o),$+=c*(5*n),C+=$>>>13,$&=8191;var V=C;V+=w*n,V+=g*f,V+=y*h,V+=m*(5*L),V+=O*(5*j),C=V>>>13,V&=8191,V+=p*(5*P),V+=U*(5*T),V+=d*(5*A),V+=D*(5*S),V+=c*(5*o),C+=V>>>13,V&=8191;var H=C;H+=w*o,H+=g*n,H+=y*f,H+=m*h,H+=O*(5*L),C=H>>>13,H&=8191,H+=p*(5*j),H+=U*(5*P),H+=d*(5*T),H+=D*(5*A),H+=c*(5*S),C+=H>>>13,H&=8191;var K=C;K+=w*S,K+=g*o,K+=y*n,K+=m*f,K+=O*h,C=K>>>13,K&=8191,K+=p*(5*L),K+=U*(5*j),K+=d*(5*P),K+=D*(5*T),K+=c*(5*A),C+=K>>>13,K&=8191;var x=C;x+=w*A,x+=g*S,x+=y*o,x+=m*n,x+=O*f,C=x>>>13,x&=8191,x+=p*h,x+=U*(5*L),x+=d*(5*j),x+=D*(5*P),x+=c*(5*T),C+=x>>>13,x&=8191;var W=C;W+=w*T,W+=g*A,W+=y*S,W+=m*o,W+=O*n,C=W>>>13,W&=8191,W+=p*f,W+=U*h,W+=d*(5*L),W+=D*(5*j),W+=c*(5*P),C+=W>>>13,W&=8191;var z=C;z+=w*P,z+=g*T,z+=y*A,z+=m*S,z+=O*o,C=z>>>13,z&=8191,z+=p*n,z+=U*f,z+=d*h,z+=D*(5*L),z+=c*(5*j),C+=z>>>13,z&=8191;var Y=C;Y+=w*j,Y+=g*P,Y+=y*T,Y+=m*A,Y+=O*S,C=Y>>>13,Y&=8191,Y+=p*o,Y+=U*n,Y+=d*f,Y+=D*h,Y+=c*(5*L),C+=Y>>>13,Y&=8191;var X=C;X+=w*L,X+=g*j,X+=y*P,X+=m*T,X+=O*A,C=X>>>13,X&=8191,X+=p*S,X+=U*o,X+=d*n,X+=D*f,X+=c*h,C+=X>>>13,X&=8191,C=(C<<2)+C|0,C=C+B|0,B=C&8191,C=C>>>13,$+=C,w=B,g=$,y=V,m=H,O=K,p=x,U=W,d=z,D=Y,c=X,l+=16,E-=16}this._h[0]=w,this._h[1]=g,this._h[2]=y,this._h[3]=m,this._h[4]=O,this._h[5]=p,this._h[6]=U,this._h[7]=d,this._h[8]=D,this._h[9]=c},_.prototype.finish=function(s,l){l===void 0&&(l=0);var E=new Uint16Array(10),b,w,g,y;if(this._leftover){for(y=this._leftover,this._buffer[y++]=1;y<16;y++)this._buffer[y]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(b=this._h[1]>>>13,this._h[1]&=8191,y=2;y<10;y++)this._h[y]+=b,b=this._h[y]>>>13,this._h[y]&=8191;for(this._h[0]+=b*5,b=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=b,b=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=b,E[0]=this._h[0]+5,b=E[0]>>>13,E[0]&=8191,y=1;y<10;y++)E[y]=this._h[y]+b,b=E[y]>>>13,E[y]&=8191;for(E[9]-=1<<13,w=(b^1)-1,y=0;y<10;y++)E[y]&=w;for(w=~w,y=0;y<10;y++)this._h[y]=this._h[y]&w|E[y];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,g=this._h[0]+this._pad[0],this._h[0]=g&65535,y=1;y<8;y++)g=(this._h[y]+this._pad[y]|0)+(g>>>16)|0,this._h[y]=g&65535;return s[l+0]=this._h[0]>>>0,s[l+1]=this._h[0]>>>8,s[l+2]=this._h[1]>>>0,s[l+3]=this._h[1]>>>8,s[l+4]=this._h[2]>>>0,s[l+5]=this._h[2]>>>8,s[l+6]=this._h[3]>>>0,s[l+7]=this._h[3]>>>8,s[l+8]=this._h[4]>>>0,s[l+9]=this._h[4]>>>8,s[l+10]=this._h[5]>>>0,s[l+11]=this._h[5]>>>8,s[l+12]=this._h[6]>>>0,s[l+13]=this._h[6]>>>8,s[l+14]=this._h[7]>>>0,s[l+15]=this._h[7]>>>8,this._finished=!0,this},_.prototype.update=function(s){var l=0,E=s.length,b;if(this._leftover){b=16-this._leftover,b>E&&(b=E);for(var w=0;w<b;w++)this._buffer[this._leftover+w]=s[l+w];if(E-=b,l+=b,this._leftover+=b,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(E>=16&&(b=E-E%16,this._blocks(s,l,b),l+=b,E-=b),E){for(var w=0;w<E;w++)this._buffer[this._leftover+w]=s[l+w];this._leftover+=E}return this},_.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var s=new Uint8Array(16);return this.finish(s),s},_.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},_}();e.Poly1305=i;function a(_,s){var l=new i(_);l.update(s);var E=l.digest();return l.clean(),E}e.oneTimeAuth=a;function u(_,s){return _.length!==e.DIGEST_LENGTH||s.length!==e.DIGEST_LENGTH?!1:t.equal(_,s)}e.equal=u}(lr),function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Xe,r=lr,i=ge,a=M,u=Ce;e.KEY_LENGTH=32,e.NONCE_LENGTH=12,e.TAG_LENGTH=16;var _=new Uint8Array(16),s=function(){function l(E){if(this.nonceLength=e.NONCE_LENGTH,this.tagLength=e.TAG_LENGTH,E.length!==e.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(E)}return l.prototype.seal=function(E,b,w,g){if(E.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var y=new Uint8Array(16);y.set(E,y.length-E.length);var m=new Uint8Array(32);t.stream(this._key,y,m,4);var O=b.length+this.tagLength,p;if(g){if(g.length!==O)throw new Error("ChaCha20Poly1305: incorrect destination length");p=g}else p=new Uint8Array(O);return t.streamXOR(this._key,y,b,p,4),this._authenticate(p.subarray(p.length-this.tagLength,p.length),m,p.subarray(0,p.length-this.tagLength),w),i.wipe(y),p},l.prototype.open=function(E,b,w,g){if(E.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(b.length<this.tagLength)return null;var y=new Uint8Array(16);y.set(E,y.length-E.length);var m=new Uint8Array(32);t.stream(this._key,y,m,4);var O=new Uint8Array(this.tagLength);if(this._authenticate(O,m,b.subarray(0,b.length-this.tagLength),w),!u.equal(O,b.subarray(b.length-this.tagLength,b.length)))return null;var p=b.length-this.tagLength,U;if(g){if(g.length!==p)throw new Error("ChaCha20Poly1305: incorrect destination length");U=g}else U=new Uint8Array(p);return t.streamXOR(this._key,y,b.subarray(0,b.length-this.tagLength),U,4),i.wipe(y),U},l.prototype.clean=function(){return i.wipe(this._key),this},l.prototype._authenticate=function(E,b,w,g){var y=new r.Poly1305(b);g&&(y.update(g),g.length%16>0&&y.update(_.subarray(g.length%16))),y.update(w),w.length%16>0&&y.update(_.subarray(w.length%16));var m=new Uint8Array(8);g&&a.writeUint64LE(g.length,m),y.update(m),a.writeUint64LE(w.length,m),y.update(m);for(var O=y.digest(),p=0;p<O.length;p++)E[p]=O[p];y.clean(),i.wipe(O),i.wipe(m)},l}();e.ChaCha20Poly1305=s}(_t);var _r={},He={},gt={};Object.defineProperty(gt,"__esModule",{value:!0});function vi(e){return typeof e.saveState<"u"&&typeof e.restoreState<"u"&&typeof e.cleanSavedState<"u"}gt.isSerializableHash=vi,Object.defineProperty(He,"__esModule",{value:!0});var Oe=gt,yi=Ce,gi=ge,Dr=function(){function e(t,r){this._finished=!1,this._inner=new t,this._outer=new t,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var i=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(i).clean():i.set(r);for(var a=0;a<i.length;a++)i[a]^=54;this._inner.update(i);for(var a=0;a<i.length;a++)i[a]^=106;this._outer.update(i),Oe.isSerializableHash(this._inner)&&Oe.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),gi.wipe(i)}return e.prototype.reset=function(){if(!Oe.isSerializableHash(this._inner)||!Oe.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.clean=function(){Oe.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),Oe.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},e.prototype.update=function(t){return this._inner.update(t),this},e.prototype.finish=function(t){return this._finished?(this._outer.finish(t),this):(this._inner.finish(t),this._outer.update(t.subarray(0,this.digestLength)).finish(t),this._finished=!0,this)},e.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},e.prototype.saveState=function(){if(!Oe.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},e.prototype.restoreState=function(t){if(!Oe.isSerializableHash(this._inner)||!Oe.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(t),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.cleanSavedState=function(t){if(!Oe.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(t)},e}();He.HMAC=Dr;function wi(e,t,r){var i=new Dr(e,t);i.update(r);var a=i.digest();return i.clean(),a}He.hmac=wi,He.equal=yi.equal,Object.defineProperty(_r,"__esModule",{value:!0});var Er=He,br=ge,mi=function(){function e(t,r,i,a){i===void 0&&(i=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=t,this._info=a;var u=Er.hmac(this._hash,i,r);this._hmac=new Er.HMAC(t,u),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return e.prototype._fillBuffer=function(){this._counter[0]++;var t=this._counter[0];if(t===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),t>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},e.prototype.expand=function(t){for(var r=new Uint8Array(t),i=0;i<r.length;i++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[i]=this._buffer[this._bufpos++];return r},e.prototype.clean=function(){this._hmac.clean(),br.wipe(this._buffer),br.wipe(this._counter),this._bufpos=0},e}(),pi=_r.HKDF=mi,Qe={},Ze={},et={};Object.defineProperty(et,"__esModule",{value:!0}),et.BrowserRandomSource=void 0;const vr=65536;class Si{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const t=typeof self<"u"?self.crypto||self.msCrypto:null;t&&t.getRandomValues!==void 0&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const r=new Uint8Array(t);for(let i=0;i<r.length;i+=vr)this._crypto.getRandomValues(r.subarray(i,i+Math.min(r.length-i,vr)));return r}}et.BrowserRandomSource=Si;function Oi(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var tt={},Ni={},Ai=Object.freeze({__proto__:null,default:Ni}),Ci=ir(Ai);Object.defineProperty(tt,"__esModule",{value:!0}),tt.NodeRandomSource=void 0;const Ui=ge;class Ti{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof Oi<"u"){const t=Ci;t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(t);if(r.length!==t)throw new Error("NodeRandomSource: got fewer bytes than requested");const i=new Uint8Array(t);for(let a=0;a<i.length;a++)i[a]=r[a];return(0,Ui.wipe)(r),i}}tt.NodeRandomSource=Ti,Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.SystemRandomSource=void 0;const Ii=et,Ri=tt;class Fi{constructor(){if(this.isAvailable=!1,this.name="",this._source=new Ii.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new Ri.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(t){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(t)}}Ze.SystemRandomSource=Fi,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.randomStringForEntropy=e.randomString=e.randomUint32=e.randomBytes=e.defaultRandomSource=void 0;const t=Ze,r=M,i=ge;e.defaultRandomSource=new t.SystemRandomSource;function a(E,b=e.defaultRandomSource){return b.randomBytes(E)}e.randomBytes=a;function u(E=e.defaultRandomSource){const b=a(4,E),w=(0,r.readUint32LE)(b);return(0,i.wipe)(b),w}e.randomUint32=u;const _="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function s(E,b=_,w=e.defaultRandomSource){if(b.length<2)throw new Error("randomString charset is too short");if(b.length>256)throw new Error("randomString charset is too long");let g="";const y=b.length,m=256-256%y;for(;E>0;){const O=a(Math.ceil(E*256/m),w);for(let p=0;p<O.length&&E>0;p++){const U=O[p];U<m&&(g+=b.charAt(U%y),E--)}(0,i.wipe)(O)}return g}e.randomString=s;function l(E,b=_,w=e.defaultRandomSource){const g=Math.ceil(E/(Math.log(b.length)/Math.LN2));return s(g,b,w)}e.randomStringForEntropy=l}(Qe);var rt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=M,r=ge;e.DIGEST_LENGTH=32,e.BLOCK_SIZE=64;var i=function(){function s(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return s.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},s.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},s.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},s.prototype.update=function(l,E){if(E===void 0&&(E=l.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var b=0;if(this._bytesHashed+=E,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&E>0;)this._buffer[this._bufferLength++]=l[b++],E--;this._bufferLength===this.blockSize&&(u(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(E>=this.blockSize&&(b=u(this._temp,this._state,l,b,E),E%=this.blockSize);E>0;)this._buffer[this._bufferLength++]=l[b++],E--;return this},s.prototype.finish=function(l){if(!this._finished){var E=this._bytesHashed,b=this._bufferLength,w=E/536870912|0,g=E<<3,y=E%64<56?64:128;this._buffer[b]=128;for(var m=b+1;m<y-8;m++)this._buffer[m]=0;t.writeUint32BE(w,this._buffer,y-8),t.writeUint32BE(g,this._buffer,y-4),u(this._temp,this._state,this._buffer,0,y),this._finished=!0}for(var m=0;m<this.digestLength/4;m++)t.writeUint32BE(this._state[m],l,m*4);return this},s.prototype.digest=function(){var l=new Uint8Array(this.digestLength);return this.finish(l),l},s.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},s.prototype.restoreState=function(l){return this._state.set(l.state),this._bufferLength=l.bufferLength,l.buffer&&this._buffer.set(l.buffer),this._bytesHashed=l.bytesHashed,this._finished=!1,this},s.prototype.cleanSavedState=function(l){r.wipe(l.state),l.buffer&&r.wipe(l.buffer),l.bufferLength=0,l.bytesHashed=0},s}();e.SHA256=i;var a=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function u(s,l,E,b,w){for(;w>=64;){for(var g=l[0],y=l[1],m=l[2],O=l[3],p=l[4],U=l[5],d=l[6],D=l[7],c=0;c<16;c++){var h=b+c*4;s[c]=t.readUint32BE(E,h)}for(var c=16;c<64;c++){var f=s[c-2],n=(f>>>17|f<<32-17)^(f>>>19|f<<32-19)^f>>>10;f=s[c-15];var o=(f>>>7|f<<32-7)^(f>>>18|f<<32-18)^f>>>3;s[c]=(n+s[c-7]|0)+(o+s[c-16]|0)}for(var c=0;c<64;c++){var n=(((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&U^~p&d)|0)+(D+(a[c]+s[c]|0)|0)|0,o=((g>>>2|g<<32-2)^(g>>>13|g<<32-13)^(g>>>22|g<<32-22))+(g&y^g&m^y&m)|0;D=d,d=U,U=p,p=O+n|0,O=m,m=y,y=g,g=n+o|0}l[0]+=g,l[1]+=y,l[2]+=m,l[3]+=O,l[4]+=p,l[5]+=U,l[6]+=d,l[7]+=D,b+=64,w-=64}return b}function _(s){var l=new i;l.update(s);var E=l.digest();return l.clean(),E}e.hash=_})(rt);var wt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sharedKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.scalarMultBase=e.scalarMult=e.SHARED_KEY_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=void 0;const t=Qe,r=ge;e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=32,e.SHARED_KEY_LENGTH=32;function i(c){const h=new Float64Array(16);if(c)for(let f=0;f<c.length;f++)h[f]=c[f];return h}const a=new Uint8Array(32);a[0]=9;const u=i([56129,1]);function _(c){let h=1;for(let f=0;f<16;f++){let n=c[f]+h+65535;h=Math.floor(n/65536),c[f]=n-h*65536}c[0]+=h-1+37*(h-1)}function s(c,h,f){const n=~(f-1);for(let o=0;o<16;o++){const S=n&(c[o]^h[o]);c[o]^=S,h[o]^=S}}function l(c,h){const f=i(),n=i();for(let o=0;o<16;o++)n[o]=h[o];_(n),_(n),_(n);for(let o=0;o<2;o++){f[0]=n[0]-65517;for(let A=1;A<15;A++)f[A]=n[A]-65535-(f[A-1]>>16&1),f[A-1]&=65535;f[15]=n[15]-32767-(f[14]>>16&1);const S=f[15]>>16&1;f[14]&=65535,s(n,f,1-S)}for(let o=0;o<16;o++)c[2*o]=n[o]&255,c[2*o+1]=n[o]>>8}function E(c,h){for(let f=0;f<16;f++)c[f]=h[2*f]+(h[2*f+1]<<8);c[15]&=32767}function b(c,h,f){for(let n=0;n<16;n++)c[n]=h[n]+f[n]}function w(c,h,f){for(let n=0;n<16;n++)c[n]=h[n]-f[n]}function g(c,h,f){let n,o,S=0,A=0,T=0,P=0,j=0,L=0,R=0,F=0,N=0,I=0,G=0,Q=0,J=0,k=0,C=0,B=0,$=0,V=0,H=0,K=0,x=0,W=0,z=0,Y=0,X=0,Me=0,Ve=0,Ge=0,ht=0,Jt=0,Bn=0,te=f[0],re=f[1],ne=f[2],ie=f[3],ae=f[4],oe=f[5],se=f[6],ue=f[7],ce=f[8],fe=f[9],he=f[10],le=f[11],de=f[12],_e=f[13],De=f[14],Ee=f[15];n=h[0],S+=n*te,A+=n*re,T+=n*ne,P+=n*ie,j+=n*ae,L+=n*oe,R+=n*se,F+=n*ue,N+=n*ce,I+=n*fe,G+=n*he,Q+=n*le,J+=n*de,k+=n*_e,C+=n*De,B+=n*Ee,n=h[1],A+=n*te,T+=n*re,P+=n*ne,j+=n*ie,L+=n*ae,R+=n*oe,F+=n*se,N+=n*ue,I+=n*ce,G+=n*fe,Q+=n*he,J+=n*le,k+=n*de,C+=n*_e,B+=n*De,$+=n*Ee,n=h[2],T+=n*te,P+=n*re,j+=n*ne,L+=n*ie,R+=n*ae,F+=n*oe,N+=n*se,I+=n*ue,G+=n*ce,Q+=n*fe,J+=n*he,k+=n*le,C+=n*de,B+=n*_e,$+=n*De,V+=n*Ee,n=h[3],P+=n*te,j+=n*re,L+=n*ne,R+=n*ie,F+=n*ae,N+=n*oe,I+=n*se,G+=n*ue,Q+=n*ce,J+=n*fe,k+=n*he,C+=n*le,B+=n*de,$+=n*_e,V+=n*De,H+=n*Ee,n=h[4],j+=n*te,L+=n*re,R+=n*ne,F+=n*ie,N+=n*ae,I+=n*oe,G+=n*se,Q+=n*ue,J+=n*ce,k+=n*fe,C+=n*he,B+=n*le,$+=n*de,V+=n*_e,H+=n*De,K+=n*Ee,n=h[5],L+=n*te,R+=n*re,F+=n*ne,N+=n*ie,I+=n*ae,G+=n*oe,Q+=n*se,J+=n*ue,k+=n*ce,C+=n*fe,B+=n*he,$+=n*le,V+=n*de,H+=n*_e,K+=n*De,x+=n*Ee,n=h[6],R+=n*te,F+=n*re,N+=n*ne,I+=n*ie,G+=n*ae,Q+=n*oe,J+=n*se,k+=n*ue,C+=n*ce,B+=n*fe,$+=n*he,V+=n*le,H+=n*de,K+=n*_e,x+=n*De,W+=n*Ee,n=h[7],F+=n*te,N+=n*re,I+=n*ne,G+=n*ie,Q+=n*ae,J+=n*oe,k+=n*se,C+=n*ue,B+=n*ce,$+=n*fe,V+=n*he,H+=n*le,K+=n*de,x+=n*_e,W+=n*De,z+=n*Ee,n=h[8],N+=n*te,I+=n*re,G+=n*ne,Q+=n*ie,J+=n*ae,k+=n*oe,C+=n*se,B+=n*ue,$+=n*ce,V+=n*fe,H+=n*he,K+=n*le,x+=n*de,W+=n*_e,z+=n*De,Y+=n*Ee,n=h[9],I+=n*te,G+=n*re,Q+=n*ne,J+=n*ie,k+=n*ae,C+=n*oe,B+=n*se,$+=n*ue,V+=n*ce,H+=n*fe,K+=n*he,x+=n*le,W+=n*de,z+=n*_e,Y+=n*De,X+=n*Ee,n=h[10],G+=n*te,Q+=n*re,J+=n*ne,k+=n*ie,C+=n*ae,B+=n*oe,$+=n*se,V+=n*ue,H+=n*ce,K+=n*fe,x+=n*he,W+=n*le,z+=n*de,Y+=n*_e,X+=n*De,Me+=n*Ee,n=h[11],Q+=n*te,J+=n*re,k+=n*ne,C+=n*ie,B+=n*ae,$+=n*oe,V+=n*se,H+=n*ue,K+=n*ce,x+=n*fe,W+=n*he,z+=n*le,Y+=n*de,X+=n*_e,Me+=n*De,Ve+=n*Ee,n=h[12],J+=n*te,k+=n*re,C+=n*ne,B+=n*ie,$+=n*ae,V+=n*oe,H+=n*se,K+=n*ue,x+=n*ce,W+=n*fe,z+=n*he,Y+=n*le,X+=n*de,Me+=n*_e,Ve+=n*De,Ge+=n*Ee,n=h[13],k+=n*te,C+=n*re,B+=n*ne,$+=n*ie,V+=n*ae,H+=n*oe,K+=n*se,x+=n*ue,W+=n*ce,z+=n*fe,Y+=n*he,X+=n*le,Me+=n*de,Ve+=n*_e,Ge+=n*De,ht+=n*Ee,n=h[14],C+=n*te,B+=n*re,$+=n*ne,V+=n*ie,H+=n*ae,K+=n*oe,x+=n*se,W+=n*ue,z+=n*ce,Y+=n*fe,X+=n*he,Me+=n*le,Ve+=n*de,Ge+=n*_e,ht+=n*De,Jt+=n*Ee,n=h[15],B+=n*te,$+=n*re,V+=n*ne,H+=n*ie,K+=n*ae,x+=n*oe,W+=n*se,z+=n*ue,Y+=n*ce,X+=n*fe,Me+=n*he,Ve+=n*le,Ge+=n*de,ht+=n*_e,Jt+=n*De,Bn+=n*Ee,S+=38*$,A+=38*V,T+=38*H,P+=38*K,j+=38*x,L+=38*W,R+=38*z,F+=38*Y,N+=38*X,I+=38*Me,G+=38*Ve,Q+=38*Ge,J+=38*ht,k+=38*Jt,C+=38*Bn,o=1,n=S+o+65535,o=Math.floor(n/65536),S=n-o*65536,n=A+o+65535,o=Math.floor(n/65536),A=n-o*65536,n=T+o+65535,o=Math.floor(n/65536),T=n-o*65536,n=P+o+65535,o=Math.floor(n/65536),P=n-o*65536,n=j+o+65535,o=Math.floor(n/65536),j=n-o*65536,n=L+o+65535,o=Math.floor(n/65536),L=n-o*65536,n=R+o+65535,o=Math.floor(n/65536),R=n-o*65536,n=F+o+65535,o=Math.floor(n/65536),F=n-o*65536,n=N+o+65535,o=Math.floor(n/65536),N=n-o*65536,n=I+o+65535,o=Math.floor(n/65536),I=n-o*65536,n=G+o+65535,o=Math.floor(n/65536),G=n-o*65536,n=Q+o+65535,o=Math.floor(n/65536),Q=n-o*65536,n=J+o+65535,o=Math.floor(n/65536),J=n-o*65536,n=k+o+65535,o=Math.floor(n/65536),k=n-o*65536,n=C+o+65535,o=Math.floor(n/65536),C=n-o*65536,n=B+o+65535,o=Math.floor(n/65536),B=n-o*65536,S+=o-1+37*(o-1),o=1,n=S+o+65535,o=Math.floor(n/65536),S=n-o*65536,n=A+o+65535,o=Math.floor(n/65536),A=n-o*65536,n=T+o+65535,o=Math.floor(n/65536),T=n-o*65536,n=P+o+65535,o=Math.floor(n/65536),P=n-o*65536,n=j+o+65535,o=Math.floor(n/65536),j=n-o*65536,n=L+o+65535,o=Math.floor(n/65536),L=n-o*65536,n=R+o+65535,o=Math.floor(n/65536),R=n-o*65536,n=F+o+65535,o=Math.floor(n/65536),F=n-o*65536,n=N+o+65535,o=Math.floor(n/65536),N=n-o*65536,n=I+o+65535,o=Math.floor(n/65536),I=n-o*65536,n=G+o+65535,o=Math.floor(n/65536),G=n-o*65536,n=Q+o+65535,o=Math.floor(n/65536),Q=n-o*65536,n=J+o+65535,o=Math.floor(n/65536),J=n-o*65536,n=k+o+65535,o=Math.floor(n/65536),k=n-o*65536,n=C+o+65535,o=Math.floor(n/65536),C=n-o*65536,n=B+o+65535,o=Math.floor(n/65536),B=n-o*65536,S+=o-1+37*(o-1),c[0]=S,c[1]=A,c[2]=T,c[3]=P,c[4]=j,c[5]=L,c[6]=R,c[7]=F,c[8]=N,c[9]=I,c[10]=G,c[11]=Q,c[12]=J,c[13]=k,c[14]=C,c[15]=B}function y(c,h){g(c,h,h)}function m(c,h){const f=i();for(let n=0;n<16;n++)f[n]=h[n];for(let n=253;n>=0;n--)y(f,f),n!==2&&n!==4&&g(f,f,h);for(let n=0;n<16;n++)c[n]=f[n]}function O(c,h){const f=new Uint8Array(32),n=new Float64Array(80),o=i(),S=i(),A=i(),T=i(),P=i(),j=i();for(let N=0;N<31;N++)f[N]=c[N];f[31]=c[31]&127|64,f[0]&=248,E(n,h);for(let N=0;N<16;N++)S[N]=n[N];o[0]=T[0]=1;for(let N=254;N>=0;--N){const I=f[N>>>3]>>>(N&7)&1;s(o,S,I),s(A,T,I),b(P,o,A),w(o,o,A),b(A,S,T),w(S,S,T),y(T,P),y(j,o),g(o,A,o),g(A,S,P),b(P,o,A),w(o,o,A),y(S,o),w(A,T,j),g(o,A,u),b(o,o,T),g(A,A,o),g(o,T,j),g(T,S,n),y(S,P),s(o,S,I),s(A,T,I)}for(let N=0;N<16;N++)n[N+16]=o[N],n[N+32]=A[N],n[N+48]=S[N],n[N+64]=T[N];const L=n.subarray(32),R=n.subarray(16);m(L,L),g(R,R,L);const F=new Uint8Array(32);return l(F,R),F}e.scalarMult=O;function p(c){return O(c,a)}e.scalarMultBase=p;function U(c){if(c.length!==e.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${e.SECRET_KEY_LENGTH} bytes`);const h=new Uint8Array(c);return{publicKey:p(h),secretKey:h}}e.generateKeyPairFromSeed=U;function d(c){const h=(0,t.randomBytes)(32,c),f=U(h);return(0,r.wipe)(h),f}e.generateKeyPair=d;function D(c,h,f=!1){if(c.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(h.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const n=O(c,h);if(f){let o=0;for(let S=0;S<n.length;S++)o|=n[S];if(o===0)throw new Error("X25519: invalid shared key")}return n}e.sharedKey=D})(wt);function yr(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function gr(e,t){t||(t=e.reduce((a,u)=>a+u.length,0));const r=yr(t);let i=0;for(const a of e)r.set(a,i),i+=a.length;return r}function Mi(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var a=0;a<e.length;a++){var u=e.charAt(a),_=u.charCodeAt(0);if(r[_]!==255)throw new TypeError(u+" is ambiguous");r[_]=a}var s=e.length,l=e.charAt(0),E=Math.log(s)/Math.log(256),b=Math.log(256)/Math.log(s);function w(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var O=0,p=0,U=0,d=m.length;U!==d&&m[U]===0;)U++,O++;for(var D=(d-U)*b+1>>>0,c=new Uint8Array(D);U!==d;){for(var h=m[U],f=0,n=D-1;(h!==0||f<p)&&n!==-1;n--,f++)h+=256*c[n]>>>0,c[n]=h%s>>>0,h=h/s>>>0;if(h!==0)throw new Error("Non-zero carry");p=f,U++}for(var o=D-p;o!==D&&c[o]===0;)o++;for(var S=l.repeat(O);o<D;++o)S+=e.charAt(c[o]);return S}function g(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var O=0;if(m[O]!==" "){for(var p=0,U=0;m[O]===l;)p++,O++;for(var d=(m.length-O)*E+1>>>0,D=new Uint8Array(d);m[O];){var c=r[m.charCodeAt(O)];if(c===255)return;for(var h=0,f=d-1;(c!==0||h<U)&&f!==-1;f--,h++)c+=s*D[f]>>>0,D[f]=c%256>>>0,c=c/256>>>0;if(c!==0)throw new Error("Non-zero carry");U=h,O++}if(m[O]!==" "){for(var n=d-U;n!==d&&D[n]===0;)n++;for(var o=new Uint8Array(p+(d-n)),S=p;n!==d;)o[S++]=D[n++];return o}}}function y(m){var O=g(m);if(O)return O;throw new Error(`Non-${t} character`)}return{encode:w,decodeUnsafe:g,decode:y}}var Pi=Mi,Li=Pi;const wr=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},ji=e=>new TextEncoder().encode(e),Bi=e=>new TextDecoder().decode(e);class $i{constructor(t,r,i){this.name=t,this.prefix=r,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Vi{constructor(t,r,i){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return mr(this,t)}}class Hi{constructor(t){this.decoders=t}or(t){return mr(this,t)}decode(t){const r=t[0],i=this.decoders[r];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const mr=(e,t)=>new Hi({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Ki{constructor(t,r,i,a){this.name=t,this.prefix=r,this.baseEncode=i,this.baseDecode=a,this.encoder=new $i(t,r,i),this.decoder=new Vi(t,r,a)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const nt=({name:e,prefix:t,encode:r,decode:i})=>new Ki(e,t,r,i),Ke=({prefix:e,name:t,alphabet:r})=>{const{encode:i,decode:a}=Li(r,t);return nt({prefix:e,name:t,encode:i,decode:u=>wr(a(u))})},xi=(e,t,r,i)=>{const a={};for(let b=0;b<t.length;++b)a[t[b]]=b;let u=e.length;for(;e[u-1]==="=";)--u;const _=new Uint8Array(u*r/8|0);let s=0,l=0,E=0;for(let b=0;b<u;++b){const w=a[e[b]];if(w===void 0)throw new SyntaxError(`Non-${i} character`);l=l<<r|w,s+=r,s>=8&&(s-=8,_[E++]=255&l>>s)}if(s>=r||255&l<<8-s)throw new SyntaxError("Unexpected end of data");return _},Wi=(e,t,r)=>{const i=t[t.length-1]==="=",a=(1<<r)-1;let u="",_=0,s=0;for(let l=0;l<e.length;++l)for(s=s<<8|e[l],_+=8;_>r;)_-=r,u+=t[a&s>>_];if(_&&(u+=t[a&s<<r-_]),i)for(;u.length*r&7;)u+="=";return u},Z=({name:e,prefix:t,bitsPerChar:r,alphabet:i})=>nt({prefix:t,name:e,encode(a){return Wi(a,i,r)},decode(a){return xi(a,i,r,e)}}),qi=nt({prefix:"\0",name:"identity",encode:e=>Bi(e),decode:e=>ji(e)});var zi=Object.freeze({__proto__:null,identity:qi});const Yi=Z({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Gi=Object.freeze({__proto__:null,base2:Yi});const Xi=Z({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var ki=Object.freeze({__proto__:null,base8:Xi});const Ji=Ke({prefix:"9",name:"base10",alphabet:"0123456789"});var Qi=Object.freeze({__proto__:null,base10:Ji});const Zi=Z({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),ea=Z({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var ta=Object.freeze({__proto__:null,base16:Zi,base16upper:ea});const ra=Z({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),na=Z({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ia=Z({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),aa=Z({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),oa=Z({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),sa=Z({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ua=Z({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ca=Z({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),fa=Z({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var ha=Object.freeze({__proto__:null,base32:ra,base32upper:na,base32pad:ia,base32padupper:aa,base32hex:oa,base32hexupper:sa,base32hexpad:ua,base32hexpadupper:ca,base32z:fa});const la=Ke({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),da=Ke({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var _a=Object.freeze({__proto__:null,base36:la,base36upper:da});const Da=Ke({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ea=Ke({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var ba=Object.freeze({__proto__:null,base58btc:Da,base58flickr:Ea});const va=Z({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ya=Z({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ga=Z({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),wa=Z({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var ma=Object.freeze({__proto__:null,base64:va,base64pad:ya,base64url:ga,base64urlpad:wa});const pr=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),pa=pr.reduce((e,t,r)=>(e[r]=t,e),[]),Sa=pr.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function Oa(e){return e.reduce((t,r)=>(t+=pa[r],t),"")}function Na(e){const t=[];for(const r of e){const i=Sa[r.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(i)}return new Uint8Array(t)}const Aa=nt({prefix:"\u{1F680}",name:"base256emoji",encode:Oa,decode:Na});var Ca=Object.freeze({__proto__:null,base256emoji:Aa}),Ua=Or,Sr=128,Ta=127,Ia=~Ta,Ra=Math.pow(2,31);function Or(e,t,r){t=t||[],r=r||0;for(var i=r;e>=Ra;)t[r++]=e&255|Sr,e/=128;for(;e&Ia;)t[r++]=e&255|Sr,e>>>=7;return t[r]=e|0,Or.bytes=r-i+1,t}var Fa=mt,Ma=128,Nr=127;function mt(e,i){var r=0,i=i||0,a=0,u=i,_,s=e.length;do{if(u>=s)throw mt.bytes=0,new RangeError("Could not decode varint");_=e[u++],r+=a<28?(_&Nr)<<a:(_&Nr)*Math.pow(2,a),a+=7}while(_>=Ma);return mt.bytes=u-i,r}var Pa=Math.pow(2,7),La=Math.pow(2,14),ja=Math.pow(2,21),Ba=Math.pow(2,28),$a=Math.pow(2,35),Va=Math.pow(2,42),Ha=Math.pow(2,49),Ka=Math.pow(2,56),xa=Math.pow(2,63),Wa=function(e){return e<Pa?1:e<La?2:e<ja?3:e<Ba?4:e<$a?5:e<Va?6:e<Ha?7:e<Ka?8:e<xa?9:10},qa={encode:Ua,decode:Fa,encodingLength:Wa},Ar=qa;const Cr=(e,t,r=0)=>(Ar.encode(e,t,r),t),Ur=e=>Ar.encodingLength(e),pt=(e,t)=>{const r=t.byteLength,i=Ur(e),a=i+Ur(r),u=new Uint8Array(a+r);return Cr(e,u,0),Cr(r,u,i),u.set(t,a),new za(e,r,t,u)};class za{constructor(t,r,i,a){this.code=t,this.size=r,this.digest=i,this.bytes=a}}const Tr=({name:e,code:t,encode:r})=>new Ya(e,t,r);class Ya{constructor(t,r,i){this.name=t,this.code=r,this.encode=i}digest(t){if(t instanceof Uint8Array){const r=this.encode(t);return r instanceof Uint8Array?pt(this.code,r):r.then(i=>pt(this.code,i))}else throw Error("Unknown type, must be binary type")}}const Ir=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Ga=Tr({name:"sha2-256",code:18,encode:Ir("SHA-256")}),Xa=Tr({name:"sha2-512",code:19,encode:Ir("SHA-512")});var ka=Object.freeze({__proto__:null,sha256:Ga,sha512:Xa});const Rr=0,Ja="identity",Fr=wr;var Qa=Object.freeze({__proto__:null,identity:{code:Rr,name:Ja,encode:Fr,digest:e=>pt(Rr,Fr(e))}});new TextEncoder,new TextDecoder;const Mr={...zi,...Gi,...ki,...Qi,...ta,...ha,..._a,...ba,...ma,...Ca};({...ka,...Qa});function Pr(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}const Lr=Pr("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),St=Pr("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=yr(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),jr={utf8:Lr,"utf-8":Lr,hex:Mr.base16,latin1:St,ascii:St,binary:St,...Mr};function we(e,t="utf8"){const r=jr[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}function me(e,t="utf8"){const r=jr[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}const Ot="base10",be="base16",it="base64pad",at="utf8",Nt=0,Pe=1,Za=0,Br=1,At=12,Ct=32;function eo(){const e=wt.generateKeyPair();return{privateKey:me(e.secretKey,be),publicKey:me(e.publicKey,be)}}function to(){const e=Qe.randomBytes(Ct);return me(e,be)}function ro(e,t){const r=wt.sharedKey(we(e,be),we(t,be)),i=new pi(rt.SHA256,r).expand(Ct);return me(i,be)}function no(e){const t=rt.hash(we(e,be));return me(t,be)}function io(e){const t=rt.hash(we(e,at));return me(t,be)}function $r(e){return we(`${e}`,Ot)}function xe(e){return Number(me(e,Ot))}function ao(e){const t=$r(typeof e.type<"u"?e.type:Nt);if(xe(t)===Pe&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof e.senderPublicKey<"u"?we(e.senderPublicKey,be):void 0,i=typeof e.iv<"u"?we(e.iv,be):Qe.randomBytes(At),a=new _t.ChaCha20Poly1305(we(e.symKey,be)).seal(i,we(e.message,at));return Vr({type:t,sealed:a,iv:i,senderPublicKey:r})}function oo(e){const t=new _t.ChaCha20Poly1305(we(e.symKey,be)),{sealed:r,iv:i}=Ut(e.encoded),a=t.open(i,r);if(a===null)throw new Error("Failed to decrypt");return me(a,at)}function Vr(e){if(xe(e.type)===Pe){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return me(gr([e.type,e.senderPublicKey,e.iv,e.sealed]),it)}return me(gr([e.type,e.iv,e.sealed]),it)}function Ut(e){const t=we(e,it),r=t.slice(Za,Br),i=Br;if(xe(r)===Pe){const s=i+Ct,l=s+At,E=t.slice(i,s),b=t.slice(s,l),w=t.slice(l);return{type:r,sealed:w,iv:b,senderPublicKey:E}}const a=i+At,u=t.slice(i,a),_=t.slice(a);return{type:r,sealed:_,iv:u}}function so(e,t){const r=Ut(e);return Hr({type:xe(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?me(r.senderPublicKey,be):void 0,receiverPublicKey:t?.receiverPublicKey})}function Hr(e){const t=e?.type||Nt;if(t===Pe){if(typeof e?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function uo(e){return e.type===Pe&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}var Kr=function(e,t,r){if(r||arguments.length===2)for(var i=0,a=t.length,u;i<a;i++)(u||!(i in t))&&(u||(u=Array.prototype.slice.call(t,0,i)),u[i]=t[i]);return e.concat(u||Array.prototype.slice.call(t))},co=function(){function e(t,r,i){this.name=t,this.version=r,this.os=i,this.type="browser"}return e}(),fo=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),ho=function(){function e(t,r,i,a){this.name=t,this.version=r,this.os=i,this.bot=a,this.type="bot-device"}return e}(),lo=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),_o=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),Do=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Eo=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,xr=3,bo=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Do]],Wr=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function vo(e){return e?qr(e):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new _o:typeof navigator<"u"?qr(navigator.userAgent):wo()}function yo(e){return e!==""&&bo.reduce(function(t,r){var i=r[0],a=r[1];if(t)return t;var u=a.exec(e);return!!u&&[i,u]},!1)}function qr(e){var t=yo(e);if(!t)return null;var r=t[0],i=t[1];if(r==="searchbot")return new lo;var a=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);a?a.length<xr&&(a=Kr(Kr([],a,!0),mo(xr-a.length),!0)):a=[];var u=a.join("."),_=go(e),s=Eo.exec(e);return s&&s[1]?new ho(r,u,_,s[1]):new co(r,u,_)}function go(e){for(var t=0,r=Wr.length;t<r;t++){var i=Wr[t],a=i[0],u=i[1],_=u.exec(e);if(_)return a}return null}function wo(){var e=typeof process<"u"&&process.version;return e?new fo(process.version.slice(1)):null}function mo(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}var Ue={};/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var Tt=function(e,t){return Tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},Tt(e,t)};function po(e,t){Tt(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var It=function(){return It=Object.assign||function(t){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(t[u]=r[u])}return t},It.apply(this,arguments)};function So(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(r[i[a]]=e[i[a]]);return r}function Oo(e,t,r,i){var a=arguments.length,u=a<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,r):i,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(e,t,r,i);else for(var s=e.length-1;s>=0;s--)(_=e[s])&&(u=(a<3?_(u):a>3?_(t,r,u):_(t,r))||u);return a>3&&u&&Object.defineProperty(t,r,u),u}function No(e,t){return function(r,i){t(r,i,e)}}function Ao(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Co(e,t,r,i){function a(u){return u instanceof r?u:new r(function(_){_(u)})}return new(r||(r=Promise))(function(u,_){function s(b){try{E(i.next(b))}catch(w){_(w)}}function l(b){try{E(i.throw(b))}catch(w){_(w)}}function E(b){b.done?u(b.value):a(b.value).then(s,l)}E((i=i.apply(e,t||[])).next())})}function Uo(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,a,u,_;return _={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function s(E){return function(b){return l([E,b])}}function l(E){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,a&&(u=E[0]&2?a.return:E[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,E[1])).done)return u;switch(a=0,u&&(E=[E[0]&2,u.value]),E[0]){case 0:case 1:u=E;break;case 4:return r.label++,{value:E[1],done:!1};case 5:r.label++,a=E[1],E=[0];continue;case 7:E=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(E[0]===6||E[0]===2)){r=0;continue}if(E[0]===3&&(!u||E[1]>u[0]&&E[1]<u[3])){r.label=E[1];break}if(E[0]===6&&r.label<u[1]){r.label=u[1],u=E;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(E);break}u[2]&&r.ops.pop(),r.trys.pop();continue}E=t.call(e,r)}catch(b){E=[6,b],a=0}finally{i=u=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}}function To(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}function Io(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Rt(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function zr(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var i=r.call(e),a,u=[],_;try{for(;(t===void 0||t-- >0)&&!(a=i.next()).done;)u.push(a.value)}catch(s){_={error:s}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(_)throw _.error}}return u}function Ro(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(zr(arguments[t]));return e}function Fo(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var i=Array(e),a=0,t=0;t<r;t++)for(var u=arguments[t],_=0,s=u.length;_<s;_++,a++)i[a]=u[_];return i}function We(e){return this instanceof We?(this.v=e,this):new We(e)}function Mo(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(e,t||[]),a,u=[];return a={},_("next"),_("throw"),_("return"),a[Symbol.asyncIterator]=function(){return this},a;function _(g){i[g]&&(a[g]=function(y){return new Promise(function(m,O){u.push([g,y,m,O])>1||s(g,y)})})}function s(g,y){try{l(i[g](y))}catch(m){w(u[0][3],m)}}function l(g){g.value instanceof We?Promise.resolve(g.value.v).then(E,b):w(u[0][2],g)}function E(g){s("next",g)}function b(g){s("throw",g)}function w(g,y){g(y),u.shift(),u.length&&s(u[0][0],u[0][1])}}function Po(e){var t,r;return t={},i("next"),i("throw",function(a){throw a}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(a,u){t[a]=e[a]?function(_){return(r=!r)?{value:We(e[a](_)),done:a==="return"}:u?u(_):_}:u}}function Lo(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Rt=="function"?Rt(e):e[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(u){r[u]=e[u]&&function(_){return new Promise(function(s,l){_=e[u](_),a(s,l,_.done,_.value)})}}function a(u,_,s,l){Promise.resolve(l).then(function(E){u({value:E,done:s})},_)}}function jo(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Bo(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function $o(e){return e&&e.__esModule?e:{default:e}}function Vo(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function Ho(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}var Ko=Object.freeze({__proto__:null,__extends:po,get __assign(){return It},__rest:So,__decorate:Oo,__param:No,__metadata:Ao,__awaiter:Co,__generator:Uo,__createBinding:To,__exportStar:Io,__values:Rt,__read:zr,__spread:Ro,__spreadArrays:Fo,__await:We,__asyncGenerator:Mo,__asyncDelegator:Po,__asyncValues:Lo,__makeTemplateObject:jo,__importStar:Bo,__importDefault:$o,__classPrivateFieldGet:Vo,__classPrivateFieldSet:Ho}),ot=ir(Ko),Ft={},qe={},Yr;function xo(){if(Yr)return qe;Yr=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.delay=void 0;function e(t){return new Promise(r=>{setTimeout(()=>{r(!0)},t)})}return qe.delay=e,qe}var Te={},Mt={},Ie={},Gr;function Wo(){return Gr||(Gr=1,Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.ONE_THOUSAND=Ie.ONE_HUNDRED=void 0,Ie.ONE_HUNDRED=100,Ie.ONE_THOUSAND=1e3),Ie}var Pt={},Xr;function qo(){return Xr||(Xr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=e.ONE_MINUTE*5,e.TEN_MINUTES=e.ONE_MINUTE*10,e.THIRTY_MINUTES=e.ONE_MINUTE*30,e.SIXTY_MINUTES=e.ONE_MINUTE*60,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=e.ONE_HOUR*3,e.SIX_HOURS=e.ONE_HOUR*6,e.TWELVE_HOURS=e.ONE_HOUR*12,e.TWENTY_FOUR_HOURS=e.ONE_HOUR*24,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=e.ONE_DAY*3,e.FIVE_DAYS=e.ONE_DAY*5,e.SEVEN_DAYS=e.ONE_DAY*7,e.THIRTY_DAYS=e.ONE_DAY*30,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=e.ONE_WEEK*2,e.THREE_WEEKS=e.ONE_WEEK*3,e.FOUR_WEEKS=e.ONE_WEEK*4,e.ONE_YEAR=e.ONE_DAY*365}(Pt)),Pt}var kr;function Jr(){return kr||(kr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=ot;t.__exportStar(Wo(),e),t.__exportStar(qo(),e)}(Mt)),Mt}var Qr;function zo(){if(Qr)return Te;Qr=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.fromMiliseconds=Te.toMiliseconds=void 0;const e=Jr();function t(i){return i*e.ONE_THOUSAND}Te.toMiliseconds=t;function r(i){return Math.floor(i/e.ONE_THOUSAND)}return Te.fromMiliseconds=r,Te}var Zr;function Yo(){return Zr||(Zr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=ot;t.__exportStar(xo(),e),t.__exportStar(zo(),e)}(Ft)),Ft}var Le={},en;function Go(){if(en)return Le;en=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const i=this.get(r);if(typeof i.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const a=Date.now()-i.started;this.timestamps.set(r,{started:i.started,elapsed:a})}get(r){const i=this.timestamps.get(r);if(typeof i>"u")throw new Error(`No timestamp found for label: ${r}`);return i}elapsed(r){const i=this.get(r);return i.elapsed||Date.now()-i.started}}return Le.Watch=e,Le.default=e,Le}var Lt={},ze={},tn;function Xo(){if(tn)return ze;tn=1,Object.defineProperty(ze,"__esModule",{value:!0}),ze.IWatch=void 0;class e{}return ze.IWatch=e,ze}var rn;function ko(){return rn||(rn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),ot.__exportStar(Xo(),e)}(Lt)),Lt}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=ot;t.__exportStar(Yo(),e),t.__exportStar(Go(),e),t.__exportStar(ko(),e),t.__exportStar(Jr(),e)})(Ue);var q={};Object.defineProperty(q,"__esModule",{value:!0}),q.getLocalStorage=q.getLocalStorageOrThrow=q.getCrypto=q.getCryptoOrThrow=Bt=q.getLocation=q.getLocationOrThrow=jt=q.getNavigator=q.getNavigatorOrThrow=nn=q.getDocument=q.getDocumentOrThrow=q.getFromWindowOrThrow=q.getFromWindow=void 0;function Re(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}q.getFromWindow=Re;function je(e){const t=Re(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}q.getFromWindowOrThrow=je;function Jo(){return je("document")}q.getDocumentOrThrow=Jo;function Qo(){return Re("document")}var nn=q.getDocument=Qo;function Zo(){return je("navigator")}q.getNavigatorOrThrow=Zo;function es(){return Re("navigator")}var jt=q.getNavigator=es;function ts(){return je("location")}q.getLocationOrThrow=ts;function rs(){return Re("location")}var Bt=q.getLocation=rs;function ns(){return je("crypto")}q.getCryptoOrThrow=ns;function is(){return Re("crypto")}q.getCrypto=is;function as(){return je("localStorage")}q.getLocalStorageOrThrow=as;function os(){return Re("localStorage")}q.getLocalStorage=os;var $t={};Object.defineProperty($t,"__esModule",{value:!0});var an=$t.getWindowMetadata=void 0;const on=q;function ss(){let e,t;try{e=on.getDocumentOrThrow(),t=on.getLocationOrThrow()}catch{return null}function r(){const w=e.getElementsByTagName("link"),g=[];for(let y=0;y<w.length;y++){const m=w[y],O=m.getAttribute("rel");if(O&&O.toLowerCase().indexOf("icon")>-1){const p=m.getAttribute("href");if(p)if(p.toLowerCase().indexOf("https:")===-1&&p.toLowerCase().indexOf("http:")===-1&&p.indexOf("//")!==0){let U=t.protocol+"//"+t.host;if(p.indexOf("/")===0)U+=p;else{const d=t.pathname.split("/");d.pop();const D=d.join("/");U+=D+"/"+p}g.push(U)}else if(p.indexOf("//")===0){const U=t.protocol+p;g.push(U)}else g.push(p)}}return g}function i(...w){const g=e.getElementsByTagName("meta");for(let y=0;y<g.length;y++){const m=g[y],O=["itemprop","property","name"].map(p=>m.getAttribute(p)).filter(p=>p?w.includes(p):!1);if(O.length&&O){const p=m.getAttribute("content");if(p)return p}}return""}function a(){let w=i("name","og:site_name","og:title","twitter:title");return w||(w=e.title),w}function u(){return i("description","og:description","twitter:description","keywords")}const _=a(),s=u(),l=t.origin,E=r();return{description:s,url:l,icons:E,name:_}}an=$t.getWindowMetadata=ss;var Ye={},us=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),sn="%[a-f0-9]{2}",un=new RegExp(sn,"gi"),cn=new RegExp("("+sn+")+","gi");function Vt(e,t){try{return decodeURIComponent(e.join(""))}catch{}if(e.length===1)return e;t=t||1;var r=e.slice(0,t),i=e.slice(t);return Array.prototype.concat.call([],Vt(r),Vt(i))}function cs(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(un),r=1;r<t.length;r++)e=Vt(t,r).join(""),t=e.match(un);return e}}function fs(e){for(var t={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=cn.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{var i=cs(r[0]);i!==r[0]&&(t[r[0]]=i)}r=cn.exec(e)}t["%C2"]="\uFFFD";for(var a=Object.keys(t),u=0;u<a.length;u++){var _=a[u];e=e.replace(new RegExp(_,"g"),t[_])}return e}var hs=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return fs(e)}},ls=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];const r=e.indexOf(t);return r===-1?[e]:[e.slice(0,r),e.slice(r+t.length)]},ds=function(e,t){for(var r={},i=Object.keys(e),a=Array.isArray(t),u=0;u<i.length;u++){var _=i[u],s=e[_];(a?t.indexOf(_)!==-1:t(_,s,e))&&(r[_]=s)}return r};(function(e){const t=us,r=hs,i=ls,a=ds,u=d=>d==null,_=Symbol("encodeFragmentIdentifier");function s(d){switch(d.arrayFormat){case"index":return D=>(c,h)=>{const f=c.length;return h===void 0||d.skipNull&&h===null||d.skipEmptyString&&h===""?c:h===null?[...c,[b(D,d),"[",f,"]"].join("")]:[...c,[b(D,d),"[",b(f,d),"]=",b(h,d)].join("")]};case"bracket":return D=>(c,h)=>h===void 0||d.skipNull&&h===null||d.skipEmptyString&&h===""?c:h===null?[...c,[b(D,d),"[]"].join("")]:[...c,[b(D,d),"[]=",b(h,d)].join("")];case"colon-list-separator":return D=>(c,h)=>h===void 0||d.skipNull&&h===null||d.skipEmptyString&&h===""?c:h===null?[...c,[b(D,d),":list="].join("")]:[...c,[b(D,d),":list=",b(h,d)].join("")];case"comma":case"separator":case"bracket-separator":{const D=d.arrayFormat==="bracket-separator"?"[]=":"=";return c=>(h,f)=>f===void 0||d.skipNull&&f===null||d.skipEmptyString&&f===""?h:(f=f===null?"":f,h.length===0?[[b(c,d),D,b(f,d)].join("")]:[[h,b(f,d)].join(d.arrayFormatSeparator)])}default:return D=>(c,h)=>h===void 0||d.skipNull&&h===null||d.skipEmptyString&&h===""?c:h===null?[...c,b(D,d)]:[...c,[b(D,d),"=",b(h,d)].join("")]}}function l(d){let D;switch(d.arrayFormat){case"index":return(c,h,f)=>{if(D=/\[(\d*)\]$/.exec(c),c=c.replace(/\[\d*\]$/,""),!D){f[c]=h;return}f[c]===void 0&&(f[c]={}),f[c][D[1]]=h};case"bracket":return(c,h,f)=>{if(D=/(\[\])$/.exec(c),c=c.replace(/\[\]$/,""),!D){f[c]=h;return}if(f[c]===void 0){f[c]=[h];return}f[c]=[].concat(f[c],h)};case"colon-list-separator":return(c,h,f)=>{if(D=/(:list)$/.exec(c),c=c.replace(/:list$/,""),!D){f[c]=h;return}if(f[c]===void 0){f[c]=[h];return}f[c]=[].concat(f[c],h)};case"comma":case"separator":return(c,h,f)=>{const n=typeof h=="string"&&h.includes(d.arrayFormatSeparator),o=typeof h=="string"&&!n&&w(h,d).includes(d.arrayFormatSeparator);h=o?w(h,d):h;const S=n||o?h.split(d.arrayFormatSeparator).map(A=>w(A,d)):h===null?h:w(h,d);f[c]=S};case"bracket-separator":return(c,h,f)=>{const n=/(\[\])$/.test(c);if(c=c.replace(/\[\]$/,""),!n){f[c]=h&&w(h,d);return}const o=h===null?[]:h.split(d.arrayFormatSeparator).map(S=>w(S,d));if(f[c]===void 0){f[c]=o;return}f[c]=[].concat(f[c],o)};default:return(c,h,f)=>{if(f[c]===void 0){f[c]=h;return}f[c]=[].concat(f[c],h)}}}function E(d){if(typeof d!="string"||d.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function b(d,D){return D.encode?D.strict?t(d):encodeURIComponent(d):d}function w(d,D){return D.decode?r(d):d}function g(d){return Array.isArray(d)?d.sort():typeof d=="object"?g(Object.keys(d)).sort((D,c)=>Number(D)-Number(c)).map(D=>d[D]):d}function y(d){const D=d.indexOf("#");return D!==-1&&(d=d.slice(0,D)),d}function m(d){let D="";const c=d.indexOf("#");return c!==-1&&(D=d.slice(c)),D}function O(d){d=y(d);const D=d.indexOf("?");return D===-1?"":d.slice(D+1)}function p(d,D){return D.parseNumbers&&!Number.isNaN(Number(d))&&typeof d=="string"&&d.trim()!==""?d=Number(d):D.parseBooleans&&d!==null&&(d.toLowerCase()==="true"||d.toLowerCase()==="false")&&(d=d.toLowerCase()==="true"),d}function U(d,D){D=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},D),E(D.arrayFormatSeparator);const c=l(D),h=Object.create(null);if(typeof d!="string"||(d=d.trim().replace(/^[?#&]/,""),!d))return h;for(const f of d.split("&")){if(f==="")continue;let[n,o]=i(D.decode?f.replace(/\+/g," "):f,"=");o=o===void 0?null:["comma","separator","bracket-separator"].includes(D.arrayFormat)?o:w(o,D),c(w(n,D),o,h)}for(const f of Object.keys(h)){const n=h[f];if(typeof n=="object"&&n!==null)for(const o of Object.keys(n))n[o]=p(n[o],D);else h[f]=p(n,D)}return D.sort===!1?h:(D.sort===!0?Object.keys(h).sort():Object.keys(h).sort(D.sort)).reduce((f,n)=>{const o=h[n];return Boolean(o)&&typeof o=="object"&&!Array.isArray(o)?f[n]=g(o):f[n]=o,f},Object.create(null))}e.extract=O,e.parse=U,e.stringify=(d,D)=>{if(!d)return"";D=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},D),E(D.arrayFormatSeparator);const c=o=>D.skipNull&&u(d[o])||D.skipEmptyString&&d[o]==="",h=s(D),f={};for(const o of Object.keys(d))c(o)||(f[o]=d[o]);const n=Object.keys(f);return D.sort!==!1&&n.sort(D.sort),n.map(o=>{const S=d[o];return S===void 0?"":S===null?b(o,D):Array.isArray(S)?S.length===0&&D.arrayFormat==="bracket-separator"?b(o,D)+"[]":S.reduce(h(o),[]).join("&"):b(o,D)+"="+b(S,D)}).filter(o=>o.length>0).join("&")},e.parseUrl=(d,D)=>{D=Object.assign({decode:!0},D);const[c,h]=i(d,"#");return Object.assign({url:c.split("?")[0]||"",query:U(O(d),D)},D&&D.parseFragmentIdentifier&&h?{fragmentIdentifier:w(h,D)}:{})},e.stringifyUrl=(d,D)=>{D=Object.assign({encode:!0,strict:!0,[_]:!0},D);const c=y(d.url).split("?")[0]||"",h=e.extract(d.url),f=e.parse(h,{sort:!1}),n=Object.assign(f,d.query);let o=e.stringify(n,D);o&&(o=`?${o}`);let S=m(d.url);return d.fragmentIdentifier&&(S=`#${D[_]?b(d.fragmentIdentifier,D):d.fragmentIdentifier}`),`${c}${o}${S}`},e.pick=(d,D,c)=>{c=Object.assign({parseFragmentIdentifier:!0,[_]:!1},c);const{url:h,query:f,fragmentIdentifier:n}=e.parseUrl(d,c);return e.stringifyUrl({url:h,query:a(f,D),fragmentIdentifier:n},c)},e.exclude=(d,D,c)=>{const h=Array.isArray(D)?f=>!D.includes(f):(f,n)=>!D(f,n);return e.pick(d,h,c)}})(Ye);var _s=Object.defineProperty,fn=Object.getOwnPropertySymbols,Ds=Object.prototype.hasOwnProperty,Es=Object.prototype.propertyIsEnumerable,hn=(e,t,r)=>t in e?_s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ln=(e,t)=>{for(var r in t||(t={}))Ds.call(t,r)&&hn(e,r,t[r]);if(fn)for(var r of fn(t))Es.call(t,r)&&hn(e,r,t[r]);return e};const dn="ReactNative",Be={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},st=" ",bs=":",_n="/",Ht=2,vs=1e3,Dn="js";function Kt(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function En(){return!nn()&&!!jt()&&navigator.product===dn}function bn(){return!Kt()&&!!jt()}function xt(){return En()?Be.reactNative:Kt()?Be.node:bn()?Be.browser:Be.unknown}function vn(e,t){let r=Ye.parse(e);return r=ln(ln({},r),t),e=Ye.stringify(r),e}function ys(){return an()||{name:"",description:"",url:"",icons:[""]}}function gs(e,t){var r;const i=xt(),a={protocol:e,version:t,env:i};return i==="browser"&&(a.host=((r=Bt())==null?void 0:r.host)||"unknown"),a}function yn(){const e=vo();if(e===null)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function gn(){var e;const t=xt();return t===Be.browser?[t,((e=Bt())==null?void 0:e.host)||"unknown"].join(":"):t}function wn(e,t,r){const i=yn(),a=gn();return[[e,t].join("-"),[Dn,r].join("-"),i,a].join("/")}function ws({protocol:e,version:t,relayUrl:r,sdkVersion:i,auth:a,projectId:u}){const _=r.split("?"),s=wn(e,t,i),l={auth:a,ua:s,projectId:u},E=vn(_[1]||"",l);return _[0]+"?"+E}function ms(e){let t=(e.match(/^[^:]+(?=:\/\/)/gi)||[])[0];const r=typeof t<"u"?e.split("://")[1]:e;return t=t==="wss"?"https":"http",[t,r].join("://")}function ps(e,t,r){if(!e[t]||typeof e[t]!==r)throw new Error(`Missing or invalid "${t}" param`)}function mn(e,t=Ht){return pn(e.split(_n),t)}function Ss(e){return mn(e).join(st)}function ve(e,t){return e.filter(r=>t.includes(r)).length===e.length}function pn(e,t=Ht){return e.slice(Math.max(e.length-t,0))}function Os(e){return Object.fromEntries(e.entries())}function Ns(e){return new Map(Object.entries(e))}function As(e,t){const r={};return Object.keys(e).forEach(i=>{r[i]=t(e[i])}),r}const Cs=e=>e;function Sn(e){return e.trim().replace(/^\w/,t=>t.toUpperCase())}function Us(e){return e.split(st).map(t=>Sn(t)).join(st)}function Ts(e,t){return Ue.fromMiliseconds((t||Date.now())+Ue.toMiliseconds(e))}function Is(e){return Ue.fromMiliseconds(Date.now())>=Ue.toMiliseconds(e)}function Rs(e){const t=Ue.toMiliseconds(e||Ue.FIVE_MINUTES);let r,i,a;return{resolve:u=>{a&&r&&(clearTimeout(a),r(u))},reject:u=>{a&&i&&(clearTimeout(a),i(u))},done:()=>new Promise((u,_)=>{a=setTimeout(_,t),r=u,i=_})}}function Fs(e,t){return new Promise(async(r,i)=>{const a=setTimeout(()=>i(),t),u=await e;clearTimeout(a),r(u)})}function Wt(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function Ms(e){return Wt("topic",e)}function Ps(e){return Wt("id",e)}function Ls(e){const[t,r]=e.split(":"),i={id:void 0,topic:void 0};if(t==="topic"&&typeof r=="string")i.topic=r;else if(t==="id"&&Number.isInteger(Number(r)))i.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return i}function js(e,t){return`${e}${t?`:${t}`:""}`}const Bs={waku:{publish:"waku_publish",subscribe:"waku_subscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe"},irn:{publish:"irn_publish",subscribe:"irn_subscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe"},iridium:{publish:"iridium_publish",subscribe:"iridium_subscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe"}},On="irn";function $s(e){return e?.relay||{protocol:On}}function Vs(e){const t=Bs[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}var Hs=Object.defineProperty,Nn=Object.getOwnPropertySymbols,Ks=Object.prototype.hasOwnProperty,xs=Object.prototype.propertyIsEnumerable,An=(e,t,r)=>t in e?Hs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ws=(e,t)=>{for(var r in t||(t={}))Ks.call(t,r)&&An(e,r,t[r]);if(Nn)for(var r of Nn(t))xs.call(t,r)&&An(e,r,t[r]);return e};function Cn(e,t="-"){const r={},i="relay"+t;return Object.keys(e).forEach(a=>{if(a.startsWith(i)){const u=a.replace(i,""),_=e[a];r[u]=_}}),r}function qs(e){const t=e.indexOf(":"),r=e.indexOf("?")!==-1?e.indexOf("?"):void 0,i=e.substring(0,t),a=e.substring(t+1,r).split("@"),u=typeof r<"u"?e.substring(r):"",_=Ye.parse(u);return{protocol:i,topic:a[0],version:parseInt(a[1],10),symKey:_.symKey,relay:Cn(_)}}function Un(e,t="-"){const r="relay",i={};return Object.keys(e).forEach(a=>{const u=r+t+a;e[a]&&(i[u]=e[a])}),i}function zs(e){return`${e.protocol}:${e.topic}@${e.version}?`+Ye.stringify(Ws({symKey:e.symKey},Un(e.relay)))}function pe(e){const t=[];return e.forEach(r=>{const[i,a]=r.split(":");t.push(`${i}:${a}`)}),t}function Tn(e){const t=[];return Object.values(e).forEach(r=>{t.push(...pe(r.accounts)),r.extension&&r.extension.forEach(i=>{t.push(...pe(i.accounts))})}),t}function In(e,t){const r=[];return Object.values(e).forEach(i=>{pe(i.accounts).includes(t)&&r.push(...i.methods),i.extension&&i.extension.forEach(a=>{pe(a.accounts).includes(t)&&r.push(...a.methods)})}),r}function Rn(e,t){const r=[];return Object.values(e).forEach(i=>{pe(i.accounts).includes(t)&&r.push(...i.events),i.extension&&i.extension.forEach(a=>{pe(a.accounts).includes(t)&&r.push(...a.events)})}),r}function Ys(e,t){const r=Ln(e,t);if(r)throw new Error(r.message);const i={};for(const[a,u]of Object.entries(e))i[a]={methods:u.methods,events:u.events,chains:u.accounts.map(_=>`${_.split(":")[0]}:${_.split(":")[1]}`)};return i}const Gs={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Xs={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Se(e,t){const{message:r,code:i}=Xs[e];return{message:t?`${r} ${t}`:r,code:i}}function Fe(e,t){const{message:r,code:i}=Gs[e];return{message:t?`${r} ${t}`:r,code:i}}function $e(e,t){return Array.isArray(e)?typeof t<"u"&&e.length?e.every(t):!0:!1}function qt(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function Ne(e){return typeof e>"u"}function ye(e,t){return t&&Ne(e)?!0:typeof e=="string"&&Boolean(e.trim().length)}function ut(e,t){return t&&Ne(e)?!0:typeof e=="number"&&!isNaN(e)}function ks(e,t){const{requiredNamespaces:r}=t,i=Object.keys(e.namespaces),a=Object.keys(r);let u=!0;return ve(a,i)?(i.forEach(_=>{const{accounts:s,methods:l,events:E,extension:b}=e.namespaces[_],w=pe(s),g=r[_];(!ve(g.chains,w)||!ve(g.methods,l)||!ve(g.events,E))&&(u=!1),u&&b&&b.forEach(y=>{var m;const{accounts:O,methods:p,events:U}=y,d=pe(O);(m=g.extension)!=null&&m.find(D=>ve(D.chains,d)&&ve(D.methods,p)&&ve(D.events,U))||(u=!1)})}),u):!1}function ct(e){return ye(e,!1)&&e.includes(":")?e.split(":").length===2:!1}function Fn(e){if(ye(e,!1)&&e.includes(":")){const t=e.split(":");if(t.length===3){const r=t[0]+":"+t[1];return!!t[2]&&ct(r)}}return!1}function Js(e){if(ye(e,!1))try{return typeof new URL(e)<"u"}catch{return!1}return!1}function Qs(e){var t;return(t=e?.proposer)==null?void 0:t.publicKey}function Zs(e){return e?.topic}function eu(e,t){let r=null;return ye(e?.publicKey,!1)||(r=Se("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}function ft(e,t){let r=null;return Ne(e?.extension)||(!$e(e.extension)||!e.extension.length)&&(r=Se("MISSING_OR_INVALID",`${t} extension should be an array of namespaces, or omitted`)),r}function zt(e){let t=!0;return $e(e)?e.length&&(t=e.every(r=>ye(r,!1))):t=!1,t}function Yt(e,t,r){let i=null;return $e(t)?t.forEach(a=>{i||(!ct(a)||!a.includes(e))&&(i=Fe("UNSUPPORTED_CHAINS",`${r}, chain ${a} should be a string and conform to "namespace:chainId" format`))}):i=Fe("UNSUPPORTED_CHAINS",`${r}, chains ${t} should be an array of strings conforming to "namespace:chainId" format`),i}function Mn(e,t){let r=null;return Object.entries(e).forEach(([i,a])=>{if(r)return;const u=Yt(i,a?.chains,`${t} requiredNamespace`),_=ft(a,t);u?r=u:_?r=_:a.extension&&a.extension.forEach(s=>{if(r)return;const l=Yt(i,s.chains,`${t} extension`);l&&(r=l)})}),r}function Gt(e,t){let r=null;return $e(e)?e.forEach(i=>{r||Fn(i)||(r=Fe("UNSUPPORTED_ACCOUNTS",`${t}, account ${i} should be a string and conform to "namespace:chainId:address" format`))}):r=Fe("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function Pn(e,t){let r=null;return Object.values(e).forEach(i=>{if(r)return;const a=Gt(i?.accounts,`${t} namespace`),u=ft(i,t);a?r=a:u?r=u:i.extension&&i.extension.forEach(_=>{if(r)return;const s=Gt(_.accounts,`${t} extension`);s&&(r=s)})}),r}function Xt(e,t){let r=null;return zt(e?.methods)?zt(e?.events)||(r=Fe("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):r=Fe("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),r}function kt(e,t){let r=null;return Object.values(e).forEach(i=>{if(r)return;const a=Xt(i,`${t}, namespace`),u=ft(i,t);a?r=a:u?r=u:i.extension&&i.extension.forEach(_=>{if(r)return;const s=Xt(_,`${t}, extension`);s&&(r=s)})}),r}function tu(e,t){let r=null;if(e&&qt(e)){const i=kt(e,t);i&&(r=i);const a=Mn(e,t);a&&(r=a)}else r=Se("MISSING_OR_INVALID",`${t}, requiredNamespaces should be an object with data`);return r}function Ln(e,t){let r=null;if(e&&qt(e)){const i=kt(e,t);i&&(r=i);const a=Pn(e,t);a&&(r=a)}else r=Se("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function jn(e){return ye(e.protocol,!0)}function ru(e,t){let r=!1;return t&&!e?r=!0:e&&$e(e)&&e.length&&e.forEach(i=>{r=jn(i)}),r}function nu(e){return typeof e=="number"}function iu(e){return typeof e<"u"&&typeof e!==null}function au(e){return!(!e||typeof e!="object"||!e.code||!ut(e.code,!1)||!e.message||!ye(e.message,!1))}function ou(e){return!(Ne(e)||!ye(e.method,!1))}function su(e){return!(Ne(e)||Ne(e.result)&&Ne(e.error)||!ut(e.id,!1)||!ye(e.jsonrpc,!1))}function uu(e){return!(Ne(e)||!ye(e.name,!1))}function cu(e,t){return!(!ct(t)||!Tn(e).includes(t))}function fu(e,t,r){return ye(r,!1)?In(e,t).includes(r):!1}function hu(e,t,r){return ye(r,!1)?Rn(e,t).includes(r):!1}function lu(e,t,r){let i=null;const a=Object.keys(e),u=Object.keys(t);return ve(a,u)?a.forEach(_=>{var s;if(i)return;const l=e[_].chains,E=pe(t[_].accounts);ve(l,E)?ve(e[_].methods,t[_].methods)?ve(e[_].events,t[_].events)?e[_].extension&&!t[_].extension?i=Se("NON_CONFORMING_NAMESPACES",`${r} namespaces extension doesn't satisfy requiredNamespaces extension for ${_}`):e[_].extension&&t[_].extension&&((s=e[_].extension)==null||s.forEach(({methods:b,events:w,chains:g})=>{var y;i||(y=t[_].extension)!=null&&y.find(m=>{const O=pe(m.accounts);return ve(g,O)&&ve(w,m.events)&&ve(b,m.methods)})||(i=Se("NON_CONFORMING_NAMESPACES",`${r} namespaces extension doesn't satisfy requiredNamespaces extension for ${_}`))})):i=Se("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy requiredNamespaces events for ${_}`):i=Se("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy requiredNamespaces methods for ${_}`):i=Se("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy requiredNamespaces chains for ${_}`)}):i=Se("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces`),i}function du(e,t){return ut(e,!1)&&e<=t.max&&e>=t.min}v.BASE10=Ot,v.BASE16=be,v.BASE64=it,v.COLON=bs,v.DEFAULT_DEPTH=Ht,v.EMPTY_SPACE=st,v.ENV_MAP=Be,v.ONE_THOUSAND=vs,v.REACT_NATIVE_PRODUCT=dn,v.RELAYER_DEFAULT_PROTOCOL=On,v.SDK_TYPE=Dn,v.SLASH=_n,v.TYPE_0=Nt,v.TYPE_1=Pe,v.UTF8=at,v.appendToQueryString=vn,v.assertType=ps,v.calcExpiry=Ts,v.capitalize=Us,v.capitalizeWord=Sn,v.createDelayedPromise=Rs,v.createExpiringPromise=Fs,v.decodeTypeByte=xe,v.decrypt=oo,v.deriveSymKey=ro,v.deserialize=Ut,v.encodeTypeByte=$r,v.encrypt=ao,v.engineEvent=js,v.enumify=Cs,v.formatAccountId=er,v.formatAccountWithChain=$n,v.formatChainId=Zt,v.formatExpirerTarget=Wt,v.formatIdTarget=Ps,v.formatMessageContext=Ss,v.formatRelayParams=Un,v.formatRelayRpcUrl=ws,v.formatTopicTarget=Ms,v.formatUA=wn,v.formatUri=zs,v.generateKeyPair=eo,v.generateRandomBytes32=to,v.getAccountsChains=pe,v.getAccountsFromNamespaces=Hn,v.getAddressFromAccount=tr,v.getAddressesFromAccounts=Vn,v.getAppMetadata=ys,v.getChainFromAccount=rr,v.getChainsFromAccounts=nr,v.getChainsFromNamespaces=Kn,v.getChainsFromRequiredNamespaces=xn,v.getEnvironment=xt,v.getHttpUrl=ms,v.getInternalError=Se,v.getJavascriptID=gn,v.getJavascriptOS=yn,v.getLastItems=pn,v.getNamespacesChains=Tn,v.getNamespacesEventsForChainId=Rn,v.getNamespacesMethodsForChainId=In,v.getRelayClientMetadata=gs,v.getRelayProtocolApi=Vs,v.getRelayProtocolName=$s,v.getRequiredNamespacesFromNamespaces=Ys,v.getSdkError=Fe,v.getUniqueValues=dt,v.hasOverlap=ve,v.hashKey=no,v.hashMessage=io,v.isBrowser=bn,v.isConformingNamespaces=lu,v.isExpired=Is,v.isNode=Kt,v.isProposalStruct=Qs,v.isReactNative=En,v.isSessionCompatible=ks,v.isSessionStruct=Zs,v.isTypeOneEnvelope=uo,v.isUndefined=Ne,v.isValidAccountId=Fn,v.isValidAccounts=Gt,v.isValidActions=Xt,v.isValidArray=$e,v.isValidChainId=ct,v.isValidChains=Yt,v.isValidController=eu,v.isValidErrorReason=au,v.isValidEvent=uu,v.isValidExtension=ft,v.isValidId=nu,v.isValidNamespaceAccounts=Pn,v.isValidNamespaceActions=kt,v.isValidNamespaceChains=Mn,v.isValidNamespaceMethodsOrEvents=zt,v.isValidNamespaces=Ln,v.isValidNamespacesChainId=cu,v.isValidNamespacesEvent=hu,v.isValidNamespacesRequest=fu,v.isValidNumber=ut,v.isValidObject=qt,v.isValidParams=iu,v.isValidRelay=jn,v.isValidRelays=ru,v.isValidRequest=ou,v.isValidRequestExpiry=du,v.isValidRequiredNamespaces=tu,v.isValidResponse=su,v.isValidString=ye,v.isValidUrl=Js,v.mapEntries=As,v.mapToObj=Os,v.objToMap=Ns,v.parseAccountId=lt,v.parseChainId=Qt,v.parseContextNames=mn,v.parseExpirerTarget=Ls,v.parseRelayParams=Cn,v.parseUri=qs,v.serialize=Vr,v.validateDecoding=so,v.validateEncoding=Hr,Object.defineProperty(v,"__esModule",{value:!0})});
//# sourceMappingURL=index.umd.js.map
